<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>Connect</title>
    <script type="text/javascript" src="/portal_script.js"></script>
    <script type="text/javascript">
    function init() {
        document.getElementById("refresh-button").addEventListener("click", refresh);
        
        document.getElementById("password-window").addEventListener("shown", showPasswordWindow);
        document.getElementById("failed-window").addEventListener("shown", showPasswordWindow);

        window.addEventListener("resize", resize);
        apsList = document.getElementById("aps-list");
        head = document.getElementById("head");
        foot = document.getElementById("foot");
        resize();
        refresh();
    }
    window.addEventListener("load", init);        
    </script>
    <link rel="stylesheet" type="text/css" href="/portal_style.css">
</head>
<body>
    <header id="head"><h1>Select a Wifi Network</h1></header>
    <div id="aps-list">

    </div>
    <footer id="foot">
        <div id="refresh-button">
            <img src="/portal_sync.svg" id="refresh-icon" />
            <span id="refresh-label">Refresh wifi list</span>
        </div>    
    </footer>
    <div class="modal" id="password-window">
        <div class="wrapper">
            <span class="message">Enter the password for the <span class="network-name" style="font-weight: bold;">Network</span> network.</span>
            <input type="password" name="password" placeholder="Password" minlength="8">
            <a class="button">Connect</a>
        </div>
    </div>

    <div class="modal" id="failed-window">
        <div class="wrapper">
            <span class="message">Failed to connect to <span class="network-name" style="font-weight: bold;">Network</span>. Please re-enter the password.</span>
            <input type="password" class="error" name="password" placeholder="Password" minlength="8">
            <a class="button">Try Again</a>
        </div>
    </div>

    <div class="modal" id="connecting-window">
        <div class="wrapper" style="text-align: center;">
            <span class="message">Connecting to <span class="network-name" style="font-weight: bold;">Network</span>.</span>
            <div><img src="/portal_sync.svg" class="spinner" id="connecting-icon" /></div>
        </div>
    </div>
</body>
</html>